name: Data overriding
use_case: Merchant-Initiated Merchant Payment
behavior: positive
description: |
  With any values sent next values will be displayed:
  - request.headers.x-date.0: 2000-01-01T00:00:00.000Z
  - request.body.amount: 777
  - request.body.currency: AED
  - request.body.debitParty.0.key: Test
  - request.body.debitParty.0.value: 777
  - request.body.creditParty.0.key: Test
  - request.body.creditParty.0.value: 777
  - response.status: 202
  - respons.headers.x-test.0: Overrided
precondition: |
  Send any valid values.
test_steps:
  - name: POST /transactions
    source: Service Provider
    target: Mobile Money Operator 1
    api_scheme: MM v1.1.2
    test_request_setups:
    - name: Override request
      values:
        headers.x-date.0: '2000-01-01T00:00:00.000Z'
        body.amount: '777'
        body.currency: 'AED'
        body.debitParty.0.key: 'Test'
        body.debitParty.0.value: '777'
        body.creditParty.0.key: 'Test'
        body.creditParty.0.value: '777'
    test_response_setups:
    - name: Override response
      values:
        status: 202
        headers.x-test.0: 'Overrided'
    request:
      method: POST
      uri: /transactions
      headers:
        accept: 'application/json'
        content-type: 'application/json'
        x-callback-url: 'http://example.com/example'
        x-date: '2020-04-07T10:28:44.466Z'
      body:
        amount: '100'
        currency: 'USD'
        type: 'merchantpay'
        debitParty:
          - key: 'msisdn'
            value: "+33555123456"
        creditParty:
          - key: 'msisdn'
            value: '+33555789123'
    response:
      status: 202
      headers:
        content-type: 'application/json'
        x-date: '2020-04-07T10:28:44.466Z'
      body:
        serverCorrelationId: 'be77f48f-2433-4bfa-8cdd-aaf058a400de'
        status: 'pending'
        notificationMethod: 'callback'
